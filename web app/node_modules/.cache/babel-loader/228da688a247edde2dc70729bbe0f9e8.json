{"ast":null,"code":"import _slicedToArray from \"/home/dev/Downloads/FYP/web app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/dev/Downloads/FYP/web app/src/Components/pages/LoginPage.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { TextField } from '@material-ui/core';\nimport { Redirect } from 'react-router';\nimport axios from 'axios';\nimport './LoginPage.css';\nexport default function SignInPage() {\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isSignin = _useState2[0],\n      setIsSignin = _useState2[1];\n\n  if (isSignin) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: \"/home\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center m-5-auto pt-5 parent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, \"Sign in to us\"), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    onSubmit: function onSubmit(data) {\n      // setSubmitting(true)\n      console.log(data);\n      axios.post(\"http://localhost:5000/login\", data).then(function (response) {\n        console.log(\"Data has been retreived the server\");\n\n        if (response.data.success) {\n          console.log(response.data);\n          localStorage.setItem(\"token\");\n          setIsSignin(true);\n        }\n      }).catch(function () {\n        console.log(\"Internal server error\");\n      }); // setSubmitting(false)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, function (_ref) {\n    var values = _ref.values,\n        isSubmitting = _ref.isSubmitting,\n        handleChange = _ref.handleChange,\n        handleBlur = _ref.handleBlur,\n        handleSubmit = _ref.handleSubmit;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }, \"Username or email address\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"email\",\n      value: values.email,\n      onChange: handleChange,\n      onBlur: handleBlur,\n      required: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/forget-password\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"right-label \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, \"Forget password?\")), /*#__PURE__*/React.createElement(TextField, {\n      name: \"password\",\n      value: values.password,\n      onChange: handleChange,\n      onBlur: handleBlur,\n      required: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, \"Login\")));\n  }), /*#__PURE__*/React.createElement(\"footer\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"First time? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 23\n    }\n  }, \"Create an account\"), \".\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Back to Homepage\"), \".\")));\n}","map":{"version":3,"names":["React","useState","Link","Formik","TextField","Redirect","axios","SignInPage","isSignin","setIsSignin","pathname","email","password","data","console","log","post","then","response","success","localStorage","setItem","catch","values","isSubmitting","handleChange","handleBlur","handleSubmit"],"sources":["/home/dev/Downloads/FYP/web app/src/Components/pages/LoginPage.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport { Formik } from 'formik'\nimport { TextField } from '@material-ui/core';\nimport { Redirect } from 'react-router';\nimport axios from 'axios';\nimport './LoginPage.css';\n\nexport default function SignInPage() {\n  const [isSignin, setIsSignin] = useState(false)\n  if (isSignin) {\n    return <Redirect to = {{ pathname: \"/home\" }} />;\n  }\n  return (\n    <div className=\"text-center m-5-auto pt-5 parent\">\n      <h1>Sign in to us</h1>\n      <Formik initialValues={{ email: \"\", password: \"\" }}\n      onSubmit={(data) => {\n        // setSubmitting(true)\n        console.log(data)\n        axios.post(\"http://localhost:5000/login\", data )\n          .then((response) => {\n            console.log(\"Data has been retreived the server\");\n            if (response.data.success){\n              console.log(response.data)\n              localStorage.setItem(\"token\",)\n              setIsSignin(true)\n            }\n          })\n          .catch(() => {\n            console.log(\"Internal server error\");\n          });\n        // setSubmitting(false)\n      }}>\n        {({ values, isSubmitting, handleChange, handleBlur, handleSubmit }) => (\n          <form onSubmit={handleSubmit}>\n            <h2>\n              <label>Username or email address</label>\n              <br />\n              <TextField name=\"email\" value={values.email} onChange={handleChange} onBlur={handleBlur} required />\n            </h2>\n            <h2>\n              <label>Password</label>\n              <Link to=\"/forget-password\">\n                <h4 className=\"right-label \">Forget password?</h4>\n              </Link>\n\n              <TextField name=\"password\" value={values.password} onChange={handleChange} onBlur={handleBlur} required />\n            </h2>\n            <p>\n              <button className=\"btn btn-primary\" type=\"submit\">\n                Login\n              </button>\n            </p>\n          </form>\n        )}\n      </Formik>\n      <footer>\n        <h3>\n          First time? <Link to=\"/register\">Create an account</Link>.\n        </h3>\n        <p>\n          <Link to=\"/\">Back to Homepage</Link>.\n        </p>\n      </footer>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}